<!DOCTYPE html><html><head>
<meta charset="UTF-8">
<title>vorodis2</title>

<script src='src/lib/jquery-1.11.3.js'></script>
<script src='src/lib/tween.min.js'></script>

<script src='src/libMy/divLib.js'></script>
<script src='src/libMy/divLibPlus.js'></script>

<script src='src/lib/pixi.js'></script>


<script src='src/lib/three.min_158.js'></script>

<!--


<script src='src/lib/three99.js'></script>	

<script src='src/lib/loaders/GLTFLoader.js'></script>



<script src="src/lib/stats.min.js"></script>

<script src="src/lib/ammo.js"></script>-->


<!--<script src='src/lib/pixi.min.js'></script>-->
<!--<script src='src/lib/pixi.min.v6.5.9.js'></script>-->
<!--<script src='src/lib/p2.min.js'></script>-->


</head>
<meta name="viewport" content="width=device-width,height=device-height,user-scalable=no user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />


<script type="importmap">
	{
		"imports": {
			"three": "./src/lib/tv156/three.module.js",
			"three/addons/": "./src/lib/tv156/jsm/"
		}
	}
</script>


<script type="module">
	import * as THREE from 'three';
	window.THREE=THREE
	import { LMain } from './src/larvij/LMain.js';
	window.trace = window.console.log.bind(window.console);
	
	var main,dcmParam;
	

	function sizeWindow () {
		var w = document.documentElement.clientWidth;
		var h = document.documentElement.clientHeight;
		if(window.innerWidth!=undefined)w = window.innerWidth;
		if(window.innerHeight!=undefined)h = window.innerHeight;		
		if(main)main.sizeWindow(w,h);
	}
	let plus
	function init () {
		var sss
		$.ajax({
            url: "resources/info.json?"+Math.random(),
            success: function function_name(data) {                         
                if(typeof data === "string") {
					var conf = JSON.parse(data)
					sss = conf;
				} else sss = data;
				plus="?v=1.0"
				if(sss.version)plus="?v="+sss.version;
				
				init2()					                         
            },
            error:function function_name(data) {
                console.log("Что то случилось с конфигом")
            }
        }); 
	}

	function init2(t){

		dcmParam = new DCM();
	
		main=new LMain( function(s,p,p1){
			sizeWindow()
		},plus)
		
		//
		window.onresize = sizeWindow;
		sizeWindow();
	}

	

	document.addEventListener("DOMContentLoaded", function() {
		init();//строитель		
	});


</script>	

<style type="text/css">
	#stats { position: absolute; top:0; left: 200px; }
	@font-face {
	  	font-family: "SFUIDisplay-Bold";
	  	src: url(resources/font/SFUIDisplay-Bold.ttf) format("truetype");
	}
	@font-face {
	  	font-family: "SFUIDisplay-Light";
	  	src: url(resources/font/SFUIDisplay-Light.ttf) format("truetype");
	}
</style>


<body >

</body></html>



